# 爬蟲腳本真實狀況說明

## ⚠️ 重要說明

**目前您看到的所有活動資料都是範例資料（假資料），不是從實際網站爬取的！**

## 為什麼使用範例資料？

1. **反爬蟲機制**：Tixcraft 和 KKTIX 都有反爬蟲保護
   - 返回 403 Forbidden 錯誤
   - 需要更複雜的爬蟲策略

2. **網站結構變動**：網站的 HTML 結構經常變動
   - CSS 選擇器需要定期更新
   - 需要持續維護

3. **法律和道德考量**：
   - 需要遵守網站的服務條款
   - 可能違反使用條款

## 目前的資料來源

### 範例資料模式（預設）
- **位置**：`backend/src/scripts/scrapeEvents.ts` 的 `loadExampleEvents()` 函數
- **內容**：15 個手動建立的範例活動
- **用途**：用於開發和測試

### 實際爬取模式（需要啟用）
- **啟用方式**：在 `.env` 中設定 `ENABLE_SCRAPING=true`
- **問題**：目前會失敗（403 錯誤或找不到元素）

## 資料存儲位置

所有資料（包括範例資料）都存儲在：
- **PostgreSQL 資料庫（Neon）**
- 連線字串：`backend/.env` 中的 `NEON_DATABASE_URL`
- 資料庫名稱：`neondb`

## 如何獲取真實資料？

### 選項 1：手動輸入真實活動（推薦）

1. 訪問 Tixcraft 或 KKTIX 網站
2. 手動收集活動資訊
3. 透過業務經營者後台建立活動：
   - 登入業務經營者帳號
   - 前往「業務儀表板」→「管理活動」
   - 點擊「建立新活動」
   - 輸入真實的活動資訊

### 選項 2：改進爬蟲腳本

需要：
1. 使用 Puppeteer 模擬真實瀏覽器
2. 處理 JavaScript 渲染的內容
3. 處理登入和驗證
4. 定期更新選擇器

### 選項 3：使用官方 API（如果有）

- 檢查 Tixcraft/KKTIX 是否有提供官方 API
- 使用 API 獲取資料更穩定可靠

## 目前資料庫中的資料

執行以下命令查看：
```bash
cd backend
npm run scrape:events  # 會顯示使用的資料來源
```

## 建議

對於專案展示，建議：
1. **使用真實活動資料**：手動輸入幾個真實的活動
2. **標註資料來源**：在 UI 上標註資料來源
3. **說明範例性質**：如果是範例資料，應該明確標註

## 檢查實際爬取

執行以下命令嘗試實際爬取：
```bash
cd backend
ENABLE_SCRAPING=true npm run scrape:events
```

如果失敗，會看到錯誤訊息，這表示需要改進爬蟲策略。

